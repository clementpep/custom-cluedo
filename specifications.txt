ğŸ¯ 1. Objectif du projet

CrÃ©er une application web de jeu Cluedo Custom, permettant Ã  plusieurs joueurs dâ€™organiser et de jouer Ã  un Cluedo en conditions rÃ©elles (dans leur environnement physique â€” bureaux, maison, Ã©coleâ€¦).
Le jeu adapte les rÃ¨gles et les Ã©lÃ©ments du Cluedo au lieu choisi par les joueurs, avec une interface simple et collaborative.

ğŸ‘¥ 2. Public cible

Groupes dâ€™amis, collÃ¨gues ou familles souhaitant transformer leur environnement en plateau de Cluedo.

Animation dâ€™Ã©vÃ©nements, team-building, soirÃ©es.

Aucune compÃ©tence technique requise pour les joueurs.

ğŸ§© 3. FonctionnalitÃ©s principales
A. Gestion des parties

CrÃ©er une nouvelle partie

Saisir un nom de partie.

Choisir le nombre de salles et leurs noms (ex : "Cuisine", "Salle de rÃ©union", "Terrasse"...).

(Optionnel) Activer ou non le mode IA pour gÃ©nÃ©rer des descriptions ou scÃ©narios.

Rejoindre une partie existante

Via un code ou lien de partage (UUID court).

Le joueur saisit son nom ou pseudo.

Lister les parties actives (en cours sur le serveur).

B. Gestion du jeu

Attribution automatique des rÃ´les et cartes

Personnages (ou avatars).

Armes.

Salles du lieu rÃ©el.

Tour par tour

Lâ€™application guide chaque joueur (texte ou vocal).

Affiche les actions possibles (dÃ©placer, accuser, questionner, rÃ©vÃ©ler une carteâ€¦).

RÃ©solution automatique

Lâ€™app gÃ¨re les vÃ©rifications des accusations et la fin du jeu.

Une interface affiche le gagnant et la solution.

C. Interaction joueur

Interface mobile first (compatible smartphone).

Navigation intuitive :

Vue "Salle actuelle"

Bouton â€œPasser son tourâ€

Bouton â€œAccuserâ€

Historique minimal de la partie.

Notifications lÃ©gÃ¨res pour indiquer le tour suivant ou un Ã©vÃ©nement (ex : â€œRomain a fait une accusation !â€).

D. Option IA (activable par variable dâ€™environnement)

USE_OPENAI=true active la gÃ©nÃ©ration de contenu IA :

GÃ©nÃ©ration de scÃ©nario dâ€™enquÃªte personnalisÃ© (intro, contexte, description des personnages).

Suggestions de narration (ex : â€œUne ombre passe dans la salleâ€¦â€).

Reformulation fluide des messages de jeu.

USE_OPENAI=false â†’ mode classique sans gÃ©nÃ©ration IA, avec textes statiques.

ğŸ—ï¸ 4. Architecture technique
Front-end

Framework lÃ©ger : Gradio, Streamlit, ou React + FastAPI backend (selon prÃ©fÃ©rences).

Interface responsive avec navigation fluide (sans reload complet).

Stockage minimal cÃ´tÃ© client (sessionStorage).

Back-end

FastAPI (Python) recommandÃ© :

Gestion des routes : crÃ©ation / rejoindre / Ã©tat de partie / actions.

Gestion du moteur de jeu (rÃ¨gles, tirages alÃ©atoires, synchronisation).

WebSocket pour actualisation en temps rÃ©el (si faisable sans surcharge CPU).

Stockage en mÃ©moire (Redis ou simple dictionnaire Python) pour les parties (limitÃ© Ã  quelques dizaines de parties simultanÃ©es).

DonnÃ©es persistÃ©es

Pas de base de donnÃ©es lourde.

Stockage temporaire dans un simple fichier JSON (games.json) pour les sessions actives.

DÃ©ploiement

Conteneur Docker lÃ©ger (Python 3.11 slim).

Hugging Face Space (Gradio ou API + frontend minimal).

Exposition sur un seul port HTTP (7860 par dÃ©faut HF).

Pas dâ€™Ã©tat long terme : la perte du conteneur efface les parties (ok pour usage rÃ©crÃ©atif).

âš™ï¸ 5. Variables dâ€™environnement
Nom	Description	Valeur par dÃ©faut
USE_OPENAI	Active la gÃ©nÃ©ration IA	false
OPENAI_API_KEY	ClÃ© OpenAI (optionnelle)	""
APP_NAME	Nom affichÃ© dans lâ€™interface	"Cluedo Custom"
MAX_PLAYERS	Nombre max de joueurs par partie	8
ğŸ§  6. Comportement IA (si activÃ©)

Utiliser GPT (via OpenAI API) pour :

GÃ©nÃ©rer la mise en scÃ¨ne du lieu : â€œLe meurtre a eu lieu dans la Salle des serveursâ€¦â€

Personnaliser les noms et descriptions de personnages.

Ajouter du dialogue narratif lÃ©ger pendant les tours.

Les prompts doivent Ãªtre courts et Ã  tempÃ©rature basse pour Ã©viter les dÃ©lais.

Pas dâ€™appel IA bloquant : timeout max 3 secondes par requÃªte.

ğŸ¨ 7. Design & ergonomie

Principes UX :

Interface claire, Ã  gros boutons.

Lecture sur mobile en prioritÃ©.

Couleurs contrastÃ©es : fond clair, Ã©lÃ©ments colorÃ©s selon statut.

Ã‰crans :

Accueil : CrÃ©er / Rejoindre une partie.

Configuration : Nom des salles + activer IA.

Salle de jeu : Vue principale (tour actuel, actions possibles).

Fin de partie : RÃ©sumÃ© + rejouer.

ğŸ”’ 8. Gestion des sessions / multi-joueurs

GÃ©nÃ©ration dâ€™un Game ID unique Ã  6 caractÃ¨res.

Stockage des sessions en mÃ©moire avec la liste des joueurs connectÃ©s.

Chaque joueur identifiÃ© par un UUID stockÃ© cÃ´tÃ© navigateur.

Synchronisation lÃ©gÃ¨re entre joueurs (polling toutes les 2â€“3 secondes au lieu de WebSocket si besoin dâ€™Ã©conomie CPU).

ğŸ§ª 9. Tests & validation

Unitaires : logique du moteur de jeu (distribution, accusation, vÃ©rification).

End-to-end : crÃ©ation et dÃ©roulement dâ€™une partie complÃ¨te Ã  3 joueurs simulÃ©s.

Tests IA (optionnels) : vÃ©rification du format et temps de rÃ©ponse des prompts.

ğŸ“¦ 10. Livrables attendus

Dockerfile lÃ©ger (< 300 MB image finale).

Fichier requirements.txt clair et court.

Script app.py ou main.py lanÃ§ant lâ€™app HF.

Documentation README.md :

Variables dâ€™environnement

Instructions pour exÃ©cution locale et Space.

Description du mode IA.