ğŸ•¹ï¸ Cluedo Custom â€” Concept global

â€œCrÃ©e ton manoir. Invite des poupouilles. Le narrateur IA Lesland (euh non c'est Desland) enquÃªte avec vousâ€¦ ou contre vous.â€

ğŸ¯ Objectif

DÃ©couvrir la combinaison coupable (Suspect + Arme + Lieu)
avant les autres joueurs â€” en interagissant avec une IA MaÃ®tre du Jeu qui commente, bluffe et raconte.

âš™ï¸ 1. CrÃ©ation de la partie (par un joueur hÃ´te)
ğŸ§© Ã‰tape 1 â€” ThÃ¨me et contexte

Lâ€™hÃ´te choisit :

Un titre de partie (ex : Meurtre au coworking ou Drame Ã  la coloc).

* CrÃ©er une nouvelle partie

  * Saisir un nom de partie.

  * Choisir le nombre de salles et leurs noms (ex : "Cuisine", "Salle de rÃ©union", "Terrasse"...).

  * (Optionnel) Activer ou non le mode IA pour gÃ©nÃ©rer des descriptions ou scÃ©narios.

* Rejoindre une partie existante

  * Via un code ou lien de partage (UUID court).

  * Le joueur saisit son nom ou pseudo.

  * Lister les parties actives (en cours sur le serveur).

Lâ€™hÃ´te ajoute les suspects (rÃ©els ou fictifs).

Idem pour les armes (â€œClÃ© USBâ€, â€œCapsule de cafÃ©â€, â€œCÃ¢ble HDMIâ€, etc.)

ğŸ¤– Ã‰tape 4 â€” L'app scelle le crime

Lâ€™app choisit alÃ©atoirement une combinaison suspect + arme + lieu â†’ â€œle crime secretâ€.

ğŸ‘¥ 2. Connexion des joueurs

Chaque joueur rejoint via un code de partie (type â€œAB7Fâ€) en ajoutant son pseudo et une photo (en option) 
Sur mobile, ils voient :

Leur profil (pseudo, avatar)

Leur feuille dâ€™enquÃªte numÃ©rique avec grilles interactives

Le plateau (vue simplifiÃ©e des piÃ¨ces, connectÃ©es)

ğŸ’¡ Si tu veux garder les ressources lÃ©gÃ¨res, ce plateau peut Ãªtre :

Soit une grille isomÃ©trique stylisÃ©e (SVG ou simple div CSS)

Soit une carte gÃ©nÃ©rÃ©e dynamiquement via JSON de la config hÃ´te.

Lorsqu'au moins 3 joueurs (dont l'hote) sont connectÃ©s, l'hote peut lancer la partie

Grille a cocher pour Ã©liminer les possibilitÃ©s

Navigation intuitive :

Chaque joueur :

Lance les dÃ©s (virtuel) â†’ se dÃ©place sur le plateau.

Une fois dans une piÃ¨ce, peut faire une suggestion en sÃ©lectionnant suspect, arme et lieu dans des listes dÃ©roulantes.

ğŸ¤– Lâ€™IA MaÃ®tre du Jeu intervient :

Elle rÃ©agit avec personnalitÃ© :

â€œUne clÃ© USB ? SÃ©rieusement ? Tu crois quâ€™il lâ€™a tuÃ© Ã  coup de PowerPoint ?â€
â€œMauvaise piste, dÃ©tective. Tes neurones ont pris un cafÃ© sans toi.â€

Lâ€™IA :

Garde trace des suggestions.

Reformulation fluide des messages de jeu.

ğŸ§  4. Feuille dâ€™enquÃªte numÃ©rique

ğŸ—ï¸ 4. Architecture technique

Front-end

Framework lÃ©ger : React + FastAPI backend (selon prÃ©fÃ©rences).


ğŸ­ 5. Lâ€™IA comme moteur de narration dynamique

LÃ , tu fais la diffÃ©rence avec le Cluedo classique :

ğŸ“– Lâ€™IA raconte :

Lâ€™intro du crime (â€œDaniel a Ã©tÃ© retrouvÃ© sans vie dans le hall du coworking. Sa clÃ© USB, brisÃ©e, gÃ®t au solâ€¦â€)

Les transitions entre tours (â€œUne tempÃªte sâ€™abat dehors. Le Wi-Fi vacille. Suspense...â€)

Les conclusions (â€œPierre baisse la tÃªte. Lâ€™IA a parlÃ©. Le coupable est dÃ©masquÃ©.â€)

ğŸ§© Comportement adaptatif :

Lâ€™IA peut Ãªtre plus ou moins moqueuse, dramatique, ou complice selon la tonalitÃ© choisie.

Elle peut injecter des Ã©vÃ©nements alÃ©atoires : â€œCoupure de courant : tout le monde reste figÃ© une manche !â€

ğŸ§‘â€ğŸ’» 6. Architecture simple pour Hugging Face Space
Ã‰lÃ©ment	Tech suggÃ©rÃ©e
UI mobile responsive	Gradio Blocks + custom CSS
Stockage des parties	Dictionnaire Python (ou TinyDB / JSON local)
GÃ©nÃ©ration IA	API OpenAI/HF pour la narration
Ã‰tat de partie / logique	Python (serveur FastAPI intÃ©grÃ© Ã  Gradio)
Plateau	Composant HTML dynamique gÃ©nÃ©rÃ© Ã  partir du JSON des lieux
Multi-joueurs	WebSocket lÃ©ger (ou polling HTTP + threads)


ğŸ’¬ Exemple de tour complet

Hugging Face Space (Gradio ou API + frontend minimal).

Exposition sur un seul port HTTP (7860 par dÃ©faut HF).

Pas dâ€™Ã©tat long terme : la perte du conteneur efface les parties (ok pour usage rÃ©crÃ©atif).

âš™ï¸ 5. Variables dâ€™environnement
Nom	Description	Valeur par dÃ©faut
USE_OPENAI	Active la gÃ©nÃ©ration IA	false
OPENAI_API_KEY	ClÃ© OpenAI (optionnelle)	""
APP_NAME	Nom affichÃ© dans lâ€™interface	"Cluedo Custom"
MAX_PLAYERS	Nombre max de joueurs par partie	8

ğŸ§  6. Comportement IA (si activÃ©)

Utiliser GPT (via OpenAI API) pour :

GÃ©nÃ©rer la mise en scÃ¨ne du lieu : â€œLe meurtre a eu lieu dans la Salle des serveursâ€¦â€

Personnaliser les noms et descriptions de personnages.

Ajouter du dialogue narratif lÃ©ger pendant les tours. Le bot s'appelle 

Les prompts doivent Ãªtre courts et Ã  tempÃ©rature basse pour Ã©viter les dÃ©lais.

Pas dâ€™appel IA bloquant : timeout max 3 secondes par requÃªte.

ğŸ”’ 8. Gestion des sessions / multi-joueurs

GÃ©nÃ©ration dâ€™un Game ID unique Ã  6 caractÃ¨res.

Stockage des sessions en mÃ©moire avec la liste des joueurs connectÃ©s.

Chaque joueur identifiÃ© par un UUID stockÃ© cÃ´tÃ© navigateur.

Synchronisation lÃ©gÃ¨re entre joueurs (polling toutes les 2â€“3 secondes au lieu de WebSocket si besoin dâ€™Ã©conomie CPU).

ğŸ§ª 9. Tests & validation

Unitaires : logique du moteur de jeu (distribution, accusation, vÃ©rification).

End-to-end : crÃ©ation et dÃ©roulement dâ€™une partie complÃ¨te Ã  3 joueurs simulÃ©s.

Tests IA (optionnels) : vÃ©rification du format et temps de rÃ©ponse des prompts.

ğŸ“¦ 10. Livrables attendus

Dockerfile lÃ©ger (< 300 MB image finale).

Fichier requirements.txt clair et court.

Script app.py ou main.py lanÃ§ant lâ€™app HF.

Documentation README.md :

Variables dâ€™environnement

Instructions pour exÃ©cution locale et Space.

Description du mode IA.
